<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core">

<h:head>
	<!-- inicia o style css do background -->
	<link rel="stylesheet" type="text/css"
		href="./resources/css/styles/background.css" />

	<!-- inicia o style css dos botoes -->
	<link rel="stylesheet" type="text/css"
		href="./resources/css/styles/button.css" />

	<!-- inicia o style css dos paineis -->
	<link rel="stylesheet" type="text/css"
		href="./resources/css/styles/panel.css" />
		
		<!-- inicia o style css dos paineis -->
	<link rel="stylesheet" type="text/css"
		href="./resources/css/styles/input.css" />

	<!-- Seta o titulo na guia -->
	<title><ui:insert name="title">Entrar no SIGEAS</ui:insert></title>
</h:head>


<h:body id="body-login">

	<form id="form-login" action="j_spring_security_check" method="post">
		<p:growl id="growl" showDetail="true" />
		<h:panelGrid columns="1" cellpadding="1" styleClass="panel-login">

			<img id="icon-sigeas-login"
				src="./resources/images/icon/logo/sigeas-icon-117x158.png"
				style="position: relative; left: 23%;" />

			<div id="target" />
			<p:inputText id="j_username" placeholder="Matrícula" />

			<p:password id="j_password" requiredMessage="Senha inválida"
				required="true" placeholder="********" />

			<p:outputPanel style="width: 100%; text-align:center" layout="block">
				<input id="input_enter" name="submit" type="submit" value="Entrar"
					onclick="display_alert();" />
			</p:outputPanel>
		</h:panelGrid>
	</form>

	<p id="alertSuccess" class="message">${messageSuccess}</p>
	<p id="alertLogin" class="message">${message}</p>
	<p id="alertInput" class="message"></p>

	<script type="text/javascript">
		function display_alert() {
			if (document.getElementById('j_username').value == "") {
				var target = document.getElementById('alertInput');
				target.appendChild(document.createTextNode('Matrícula Inválida.'));
				var element = document.querySelector("form");
				element.addEventListener("submit", function(event) {
					event.preventDefault();
				});
				setTimeout(function() {
					window.location.replace("login.html");
				}, 1000);
			} else {
				if (document.getElementById('j_password').value == "") {
					var target = document.getElementById('alertInput');
					target.appendChild(document
							.createTextNode('Senha Inválida.'));
					var element = document.querySelector("form");
					element.addEventListener("submit", function(event) {
						event.preventDefault();
					});
					setTimeout(function() {
						window.location.replace("login.html");
					}, 1000);
				}
			}
		}
	</script>

</h:body>
</html>